RELEASE_NOTES

Module: SCHEDULING 

From: 
   Sohaila Lucero

Version: 
   "@(#) $Id: RELEASE_NOTES,v 1.16 2006/08/17 22:22:46 sslucero Exp $"

***** General *****
- DO NOT USE Scheduling Panel in OMC!!!!! 
- Use 'runSchedulingPanel' after the scheduling master component is operations. It will start the new interfaces of scheduling to the rest of the system. 
- Control still does not report back (sending an exec block end event) when there is an error in the scheduling blocks execution.
- A null pointer error from control is thrown when stop is called on an SB.
- In the Search text fields, just leave blank for now (yes this is a high priority to fix soon).

***** Queued Scheduling *****

- New Policy: scheduler does not look at repeat count and repeat the sb in the queue up til its repeat count. If you want to repeat it many times, you must add it to the queue that many times.
- When the scheduler is finished it tells control to destroy the array

***** Interactive Scheduling *****

- SB is run once when execute button clicked. to run it many times you must interactively execute it again once its finished.
- When the scheduler is finished it does not tell control to destroy the array
- When you search again, keep in mind that the next project you select will be run on the same array! To get a new array you must exit the interactive scheduler and create a new one.
- Using the OT through interactive scheduling is currently put on hold. To modify the project open the OT externally. However, the interactive session will not recognize the updates unless you re-open the session (yes this is a high priority, will be fixed soon).



***** Dynmic Scheduling *****
- Has not been tested with new scheduling panel.

---------------------------------------------------------------------------
OLD RELEASE NOTES BELOW: kept just coz.... not relevant

Important Comments:
    For MONTHLY-2005-09:
    - Due to the complexity of the control system this version of scheduling has not been fully tested. It has been tested with the version of control (plus a couple of bug fixes which hopefully made it into this month's release) from -08.

Configuration Requirements:
    - ACS-4.1.3
    - MicroArchive that was released with ACS
    - All other subsystems that are installed before scheduling in the build 
      process must be installed.
    - A full ALMA-CDB  must be present.
    
Scheduling's CDB requirements:
    * Components.xml
      <_ Name="SCHEDULING_MASTER_COMP"
            Code="alma.scheduling.AlmaScheduling.SchedulingMasterComponentHelper"
            Type="IDL:alma/ACS/MasterComponent:1.0"
            Container="java"/>

      <_ Name="SCHEDULING_MASTERSCHEDULER"
            Code="alma.scheduling.AlmaScheduling.MasterSchedulerIFHelper"
            Type="IDL:alma/scheduling/MasterSchedulerIF:1.0"
            Container="java" 
            Default="true" />

    * Plus an instance of the master component in the alma dir

Tested:
    - JUnit tests have been written for some of the classes. Alot of the 
      functionality cannot be tested as it is now without extreme interaction 
      with other ALMA subsystems. In the future scheduling simulators will be
      completed to avoid this interaction in testing.
  			  
    - Scheduling has been tested using entities created using the ALMA-OT batchmode.
      There is a Project.zip file in the src directory which has been modified to 
      contain a source which is *always* visible from the ATF location.


Tests: 
    - All the tests below run as a suite, AllTests.java
        AllTests include:
            TestAntenna
            TestDateTime
            TestStatus
            TestTime
    - There is a test simTest which tests the Planning Mode Simulator.
    - There is a test called pubTest which tests the NC Publisher for scheduling

TEST NOTE: Scheduling now has an Interactive Scheduling Mode. This requires human interaction
           and therefore cannot be automatically tested. For more imformation on how to test 
           the Interactive Scheduling mode please read the INTERACTIVE_SCHED_HOWTO in the src
           directory.
    
Known problems/bugs:

    - There was a problem in the time that CONTROL sent via the ExecBlockStarted event. 
      It should be fixed in cvs but just incase there are problems thats one thing that 
      could be the cause.

    - In interactive scheduling when the observing tool is used (when sb is 
      added or updated..) problems occur with the acs container. This due to 
      the way the OT shuts down or something.. 

    - The planning mode simulator gui does not create antenna config data so producing a file
      via the gui for a planning mode simulation will fail. Use the input.txt in test dir.
      
Changes:
    - There is a new schema SpecialSB. Which is an example of one type of a fixed scheduling
      block. With one of these stored in the archive, startScheduling will create a 
      scheduler for it. There is a script (storeSpecialSB) to put one in the archive.

    - If a SB has a repeat count, the scheduler now schedules the sb that many times. In
      the given Project.zip there is a repeat count of 5 so you should see 5 executions.
      The ProjectStatus.xml should have 5 sessions and 5 exec blocks.
    
    - New way of dealing/sending out session events. 
    
    - Scheduling of an ordered queue is implemented. Tho its really just scheduling of a list of SBs 

    - Interactive scheduling has a new look. same functionality tho. There's a HOWTO availble in src and on the scheduling twiki web.

    - Scheduling now receives (but doesn't do anything with) the TELCAL events. A log message is just sent out.
    

    Old:
    - Alot of fixes to the project status structure manipulation was done.
    - New functionality to talk to the Operator component from exec. To send a message that the a session has started and stopped.
    - Name changes for channel names and CDB stuff required by ITS
    - Now sending pipeline the PPR xml string in ProcessRequest
   	- PlanningModeSim and RealMode modules have been merged into one, Scheduling. 
    - Updated CDB
    

   New Structure
   
     - Scheduling now has one module. SCHEDULING/Scheduling
    
     
   New Features:
   
     - SchedulingMasterComponent exists, not sure if its implemented the way EXEC requires. 
     - Interactive Scheduling is up and running in a very elementary way.
     - ProjectStatus is now used
     - New entity, Session, has been implemented 
     - New Events, start session and end session, have been implemented.
        
     
   Fixed Problems:

     - ExecBlockEvent problem found in R1.1 integration has been corrected for
       future integrations

     - Problem with the StartSesion and EndSession events. Parameter was null, which corba 
       didn't like but didnt complain about.

