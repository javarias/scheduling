How is the weather values taken into account in the simulator?

1. There is a weight associated to the weather (weight.3)
2. A weather values is computed using the following logic:
    For RMS:
        - the value (X) from the data file is gotten.
        - then given the frequency, elevation and baseline values we get a 
          value (Y1) using the following formula:
          Y1 = X * ( freq/11.2) * (sin(36 * PI/180) / sin(elevation)) * baseline^(1/3)
    For Wind Speed:
        - the actual value (Y2) in the data file is used.
    For Opacity:
        - the actual value (Y3) from the data file is used.

    If in the future additional weather parameters were gotten they would be obtained
    at this point.
    
3. The product of these values (Yi) is obtained and used to calculate a success factor
   for the particular SB, given its elevation position (with its weight(weight.1)) and
   its maximum elevation position (with its weight(weight.2)). The SUCCESS calculation
   currently is:
    
    S = [ (elevation_position * weight.1) + (max_elevation_position * weight.2 )
            + (weather * weight.3) ] / (weight.1 + weight.2 + weight.3)
4. Each of the weights are determined by what the user has put into the scheduling 
   policy.

How is baseband determined?   
    Given all the antennas defined in the input file (which is antenna locations in 
    chile for the compact configuration of 50 antennas) the distance between each 
    antenna is calculated and the maximum baseline is used.

How is frequency determined?
    Each SB is assigned a frequency which is used directly. 

Weights for factors used in calculation of best SB found where?
    They are found in the input file, prefixed with Weight.

How is priority taken into account?
    Priority is user/commity defined in the project files. It is also given a weight.
    So when the score of a SB is being computed, there is a RANK caluclation which 
    consists of 
        rank = priority.weight * priority

What is the final scoring of a SB?
    Once the success of a SB is calculated and it is ranked then those two values are
    multiplied to give the SB a score.
        
Why does it look like the scheduler picked the lower frequency SB when the 
weather at execution time was good enough for the high frequency SB??
    * During the evaluation of a set of scheduling block weather is evaluated, if the weather is bad for a high frequency project the lower one will be selected if its good for that one. However, there will be setup times required to switch between projects and frequency bands and if the weather gets better with in that time frame, the lower frequency SB will get better weather than it needs.Until optimization is done on the setup times for switching between projects and frequency bands, this is just bad luck for the high frequency project!

Currently we are using opacity measured at tau225, however eventually this should be changed to use mmh2o which is the freq independent.

RMS is scaled using frequency, this caused a problem for us during testing when reporting scheduler/execution statistics because only one scaled value was reported giving the false impression that the weather was good enough for a higher priority (and higher frequency) SB, however if the higher frequency of the SB was used to scale the RMS it showed that the scheduler was correct in its choice because the RMS was not desireable for the other SB

Is the frequency setup time used in the scheduler/simulator yet?
    No
    
